package fr.durss.skywar.skytimer.components {	import fr.durss.skywar.skytimer.data.SkinMetrics;	import flash.display.Sprite;	import flash.events.Event;	/**	 * Displays a load bar.	 * 	 * @author  Francois	 */	public class LoadBar extends Sprite {				private var _fill:Sprite;		private var _backgrround:Sprite;		private var _width:int;		private var _height:int;		private var _percent:Number;						/* *********** *		 * CONSTRUCTOR *		 * *********** */		/**		 * Creates an instance of <code>LoadBar</code>.<br>		 */		public function LoadBar() {			initialize();		}						/* ***************** *		 * GETTERS / SETTERS *		 * ***************** */		override public function set width(value:Number):void	{ _width = value; computePositions(); }				override public function set height(value:Number):void	{ _height = value; computePositions(); }				/**		 * Sets the loaded percent.		 */		public function set percent(value:Number):void { _percent = value; computePositions(); }				/**		 * Gets the loaded percent.		 */		public function get percent():Number { return _percent; }						/* ****** *		 * PUBLIC *		 * ****** */						/* ******* *		 * PRIVATE *		 * ******* */		/**		 * Initialize the class.<br>		 */		private function initialize():void {			_backgrround	= addChild(SkinMetrics.getInstance().skinLoadBarBack) as Sprite;			_fill			= addChild(SkinMetrics.getInstance().skinLoadBarFill) as Sprite;						_percent	= 0;			_width		= _backgrround.width;			_height		= _backgrround.height;						SkinMetrics.getInstance().addEventListener(Event.CHANGE, skinChangeHandler);						computePositions();		}		/**		 * Resize and replace the elements.<br>		 */		private function computePositions():void {			_backgrround.width	= _width;			_backgrround.height	= _height;			_fill.width			= _width * _percent;			_fill.height		= _height;			_fill.x				= 0;		}		/**		 * Called when the skin is modified.		 */		private function skinChangeHandler(e:Event):void {			removeChild(_fill);			removeChild(_backgrround);			_fill			= addChild(SkinMetrics.getInstance().skinLoadBarFill) as Sprite;			_backgrround	= addChild(SkinMetrics.getInstance().skinLoadBarBack) as Sprite;		}			}}