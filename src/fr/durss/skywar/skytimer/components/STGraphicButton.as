package fr.durss.skywar.skytimer.components {	import com.nurun.components.button.GraphicButton;	import com.nurun.components.button.visitors.FrameVisitor;	import flash.display.DisplayObject;	import flash.display.MovieClip;	/**	 * Displays a <code>GraphicButton</code> with a <code>FrameVisitor</code> automatically applied.	 * 	 * @author  Francois	 */	public class STGraphicButton extends GraphicButton {				private var _visitor:FrameVisitor;								/* *********** *		 * CONSTRUCTOR *		 * *********** */		/**		 * Creates an instance of <code>STGraphicButton</code>.<br>		 */		public function STGraphicButton(background:DisplayObject = null, icon:DisplayObject = null) {			super(background, icon);			initialize();		}						/* ***************** *		 * GETTERS / SETTERS *		 * ***************** */		override public function set background(value:DisplayObject):void {			_visitor.removeTarget(_backgroundMc as MovieClip);			if(value != null) {				_width	= value.width;				_height	= value.height;				_visitor.addTarget(value as MovieClip);			}			super.background = value;		}				override public function set icon(value:DisplayObject):void {			_visitor.removeTarget(_backgroundMc as MovieClip);			if(value != null) {				_visitor.addTarget(value as MovieClip);			}			super.icon = value;		}						/* ****** *		 * PUBLIC *		 * ****** */						/* ******* *		 * PRIVATE *		 * ******* */		/**		 * Initialize the class.<br>		 */		override protected function initialize():void {			super.initialize();			_visitor = new FrameVisitor();			if(_backgroundMc != null) {				_visitor.addTarget(_backgroundMc as MovieClip);			}			if(_iconMc != null) {				_visitor.addTarget(_iconMc as MovieClip);			}			accept(_visitor);		}	}}